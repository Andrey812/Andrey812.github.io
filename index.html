<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
    "http://www.w3.org/TR/html4/strict.dtd">

<!--
What do you want to find here?
This file is just text written in my favorite editor - vim
-->

<html>
 <head>
    <title>Andrey's blog</title>
    <link rel="stylesheet" type="text/css" href="style/main.css">
    <meta charset="utf-8">
    <!--
    <script type="text/javascript" src="http://vk.com/js/api/openapi.js?112"></script>
    -->
 </head>
 <body>
    <!--
    <script type="text/javascript">VK.init({apiId: 4334789, onlyWidgets: true});</script>
    -->
    <div class="contents">
        <h3>Оглавление</h3>
        <a href="index.html#post_7">Мой список плагинов vim</a>
        <a href="index.html#post_6">Chromium plugin "Chromebleed"</a>
        <a href="index.html#post_5">Заметки о SSH</a>
        <a href="index.html#post_4">Объединение баз KeePassX</a>
        <a href="index.html#post_3">Изменение шрифта в Skype</a>
        <a href="index.html#post_2">Управление воспроизведением Audacious с клaвиатуры</a>
        <a href="index.html#post_1">Mojolicious HTTP client</a>
    </div>
    <div class="flow">
<!-- post sample
        <div class="post">
           <span class="title">
                <a id="post_N">TITLE</a>
            </span>
            <span class="info">
                Unix time: 1398340126 (24 Apr 2014 15:48)</span>
            <span class="data">
                <p>TEXT</p>
                <span class="code">
                </span>
            </span>
            <div class="bottom">
                <div id="vk_like_post_N"></div>
                <script type="text/javascript">
                     VK.Widgets.Like('vk_like_post_N', {
                        'type': 'full',
                        'verb':'1',
                        'pageTitle': 'POST_N_TITLE',
                        'pageUrl': 'http://andrey812.github.io#post_N'
                    });
                </script>
            </div>
        </div>
-->
<!-- post 7 BEGIN -->
        <div class="post">
           <span class="title">
                <a id="post_7">Мой список плагинов vim</a>
            </span>
            <span class="info">
                Unix time: 1400484602 (24 May 2014 11:30)</span>
            <span class="data">
                <p>
                    <ul>
                        <li>bad-whitespace - Highlights whitespace at the end of lines</li>
                        <li>snipMate - snippets </li>
                        <li>NERD_tree - интерактивное дерево каталогов</li>
                        <li>Powerline - продвинутая строка статуса</li>
                        <li>Syntastic - code syntax checker</li>
                    </ul>
                </p>
                <p>
                    Цветовая схема - badwolf<br>
                    Шрифт терминала - Terminus (size: 12)
                </p>
            </span>
            <div class="bottom">
            </div>
        </div>
<!-- post 7 END -->

<!-- post 6 BEGIN -->
        <div class="post">
           <span class="title">
                <a id="post_6">Chromium plugin "Chromebleed"</a>
            </span>
            <span class="info">
                Unix time: 1400140203 (15 May 2014 11:50)</span>
            <span class="data">
                <p>Использую удобный плагин, который позволяет в реальном времени
                проверить сайт на наличие знаменитой уязвимости Heartbleed.
                Количество таких сайтов с момента публикации уязвимости уменьшается,
                однако не лишним будет проверить, скажем, платежный шлюз в момент запроса
                ввода номера банковской карты.
                </p>
                <p>
                Плагин устанавливается стандартным для браузера Chromium способом <b>"Настройки"</b>
                -> <b>"Расширения"</b> -> <b>"Ещё расширения"</b> -> В строке поиска <b>"Chromebleed"</b> 
                -> <b>"Установить"</b>
                </p>
                <p>
                После установки, значёк плагина отображается правом верхнем углу панелек браузера Chromium.
                </p>
                <span class="pic">
                <img src="pics/post_6_pic_1.png" alt="Post 6 picture 1">
                </span>
                <p>
                В случае обнаружения Heartbleed уязвимости на открытой странице, в правом нижнем углу
                окна бразуера сразу же всплывает уведомление.
                Какие-либо действия пользователя на сайте при этом не блокируются.
                </p>
                <span class="pic">
                <img src="pics/post_6_pic_2.png" alt="Post 6 picture 2">
                </span>
            </span>
            <div class="bottom">
            </div>
        </div>
<!-- post 6 END -->

<!-- post 5 BEGIN -->
        <div class="post">
           <span class="title">
                <a id="post_5">Заметки о SSH</a>
            </span>
            <span class="info">
                Unix time: 1399978242 (13 May 2014 14:50)</span>
            <span class="data">
                <p><b>ssh-keygen</b> - генерация пары публичного и приватного ключей</p>
                <p><b>ssh-add [path_to_private_key]</b> - добавление приватного ключа для использования в ssh agent</p>
                <p><b>Применение публичного ключа на сервере</b></p>
<span class="code">
scp key.pub username@server.com:.
ssh username@server.com
mkdir ~/.ssh
cat key.pub >> .ssh/authorized_keys
service ssh restart

</span>
            <p><b>Копирование файла на сервер с паролем</b></p>
<span class="code">
sshpass -p [pswd] scp ...

</span>
            <p><b>Выполнение удалённой команды на сервере</b></p>
<span class="code">
ssh username@server.com 'ls'

# Interactive command
ssh -t username@server.com 'top'

</span>
            <p><b>Использование git через ssh для Github </b></p>
<span class="code">
git remote set-url origin git@github.com:githubusername/projectname.git

</span>

            <p><b>Убрать "долгое" ssh подключение</b></p>
<span class="code">
# Server side
sudo echo "UseDNS no" >> /etc/ssh/sshd_config
</span>

            </span>
            <div class="bottom">
            </div>
        </div>
<!-- post 5 END -->

<!-- post 4 BEGIN -->
        <div class="post">
           <span class="title">
                <a id="post_4">Объединение баз KeePassX</a>
            </span>
            <span class="info">
                Unix time: 1399273505 (05 May 2014 11:05)</span>
            <span class="data">
                <p>
                При нахождении нескольких версий KeePassX на различных устройствах, без
                регулярной синхронизации, возникает проблема расхождения данных о паролях
                в каждой из баз. В очередной раз поменяв пароль, думая что я его потерял, а
                затем найдя этот самый пароль в KeePass базе другого устройства, я собрал все
                имеющиеся у меня .pkb файлы и стал их объединять.
                </p>
                <p>
                Для начала я попробовал нагугленный арсенал уже имеющихся средств. К сожалению,
                он оказался невелик и ни один способ не сработал для меня по разным причинам
                (существующие скрипты не поддерживают кириллицу, импорт в KeePass 2 базы KeePassX
                пока невозможен в Linux, импорт в формат KeePass 2 через XML просто не работает :)
                </p>
                <p>
                Я пошел своим путём: Экспорт баз в XML, объединение XML файлов через утилиту diffuse
                и импорт результата объедининия обратно в .kdb файл через KeePassX средства импорта.
                </p>
                <p>
                Сам процесс достаточно прост:<br>
                - Создать свободную директорию для xml файлов<br>
                - Открыть последовательно все .kdb файлы через KeePassX:<br>зайти в меню <b>"файл"</b> ->
                <b>"Экспортировать в..."</b> -> <b>"KeePassX XML файл"</b>.<br>
                - Экспортировать файлы в созданную директорию с разными именами<br>
                - Последовательно объединить файлы с помощью <b>diffuse</b> (Пример запуска:
                <b>diffuse 1.xml 2xml</b>)<br>
                - Импортировать XML файл, содержащий все изменения в KeePassX и сохранить как базу .kdb<br>
                - Удалить все XML файлы (<b>они содержат пароли в открытом виде</b>) и временную директорию
                </p>
                <p>
                Небольшой комментарий относительно diffuse. XML содержит в том числе тег последнего изменения
                пароля. Если мы видим, что строка изменена, но не знаем, какие изменения сейчас актуальны,
                логичным будет применить изменения, содержащие более новую дату в этом теге. Результат diffuse
                лучше сохранять отдельным, третьим xml файлом, а затем использовать его как шаблон для
                сравнения со следующим xml, шаг за шагом накапливая изменения.
                </p>
            </span>
            <div class="bottom">
            </div>
        </div>
<!-- post 4 END -->

<!-- post 3 BEGIN -->
        <div class="post">
           <span class="title">
                <a id="post_3">Изменение шрифта в Skype</a>
            </span>
            <span class="info">
                Unix time: 1398852702 (30 Apr 2014 14:11)</span>
            <span class="data">
                <p>
                Относительно недавно я решил бороться со  "случайным подглядыванием" за текстом,
                который пишу или читаю в Skype со стороны рядом находящихся коллег.
                Проблема весьма актуальна для большого монитора в условиях open space офиса.
                Уменьшить читаемость текста в мессенджере от посторонних глаз можно уменьшая
                размер области окна и перемещения самого окна в нижний, правый или левый угол экрана,
                а также уменьшив шрифт входящих и печатаемых сообщений.
                </p>
                <p>
                О реализации второго способа пойдет речь ниже.
                </p>
                <p>
                Дело в том, что Skype (у меня версии 4.2) для Linux не содержит в настройках
                параметры шрифта мессенджера. Поменять их возможно, используя общие настройки
                Qt утилитой <b>qt4-qtconfig</b>. По умолчанию в Xubuntu не установлена, поэтому нужно
                установить из репозитория.
                </p>
                <p>
                Перед настройкой выйти из Skype.
                Для запуска утилиты в меню системы выбрать <b>"Настройки"</b> -> <b>"Настройки Qt 4"</b>
                </p>
                <p>
                В самой утилите выбрать вкладку <b>"Шрифты"</b> -> выпадающий список <b>"Размер"</b> и выбрать нужный размер шрифта.
                </p>
                <p>
                Слева наверху щелкнуть по <b>"Файл"</b> -> <b>"Сохранить"</b>.
                </p>
                <p>
                Закрыть "Настройки Qt 4" и запустить Skype.
                </p>
                <p>
                Практическим методом я вычислил, что шрифт Sans Serif 7 размера не читаем
                (ладно, не читаем, если специально не стоять и не вчитываться, но мы ведь говорим о
                случайном подглядывании, верно?) на FullHD мониторе с расстояния более 1.5 метров.
                При этом читать и печатать сообщения находясь в 60-80 см от монитора вполне комфортно.
                </p>
            </span>
            <div class="bottom">
            </div>
        </div>
<!-- post 3 END -->

<!-- post 2 BEGIN -->
        <div class="post">
            <span class="title">
                <a id="post_2">Управление воспроизведением Audacious с клaвиатуры</a>
            </span>
            <span class="info">
                Unix time: 1398414544 (25 Apr 2014 12:29)</span>
            <span class="data">
                <p>Для прослушивания музыки во время работы я пользуюсь плеером Audacious (v. 3.4 for Ubuntu package).
                В процессе работы я всегда стараюсь свести время манипуляций мышью к минимальному за счет использования
                "горячих" клавиш клавиатуры. Клавиатура у меня обычная, не мультимедийная и навесить простые операции
                с плеером, вроде "play", "pause", "громче", "тише" я могу только при помощи клавишных комбинаций.
                </p>
                <p>
                Настраивается управление плеером при помощи Audacious плагина <b>"Global Hotkey Plugin"</b>.
                </p>
                <p>
                Как правило, данный плагин уже присутствует в сборке плеера. Для его настройки следует зайти в
                <b>меню Audacious</b> -> <b>"Параметры"</b> -> <b>"Модули"</b>. В окне модулей выбрать вкладку <b>"Общие"</b>. Найти в списке
                модуль <b>"Глобальные горячие клавиши"</b>. Включить модуль, если не активен (поставить галку).
                </p>
                <p>
                Выбрав нужный нам модуль в строке, нажать <b>"Параметры"</b>
                </p>
                <p>
                Привязка клавиш происходит путём выбора в левой колонке из выпадающего списка возможных
                действий с проигрывателем, а в правой колонке, щелчком по форме ввода, указать свободную комбинацию
                клавиш для данного действия.
                </p>
                <p><b>Мой список:</b></p>
                <p>
                <table cellpadding="4" cellspacing="4">
                        <tr>
                            <td><b>Ctrl + Shift + Numpad Enter</b></td>
                            <td>Pause/Play</td>
                        </tr>
                        <tr>
                            <td><b>Ctrl + Shift + Numpad 0</b></td>
                            <td>Stop</td>
                        </tr>
                        <tr>
                            <td><b>Ctrl + Shift + Numpad +</b></td>
                            <td>Увеличить громкость</td>
                        </tr>
                        <tr>
                            <td><b>Ctrl + Shift + Numpad -</b></td>
                            <td>Уменьшить громкость</td>
                        </tr>
                </table>
                </p>
            </span>
            <div class="bottom">
                <!--
                <div id="vk_like_post_2"></div>
                <script type="text/javascript">
                     VK.Widgets.Like('vk_like_post_2', {
                        'type': 'full',
                        'verb':'1',
                        'pageTitle': 'Управление воспроизведением Audacious с клaвиатуры',
                        'pageUrl': 'http://andrey812.github.io#post_2'
                    });
                </script>
                -->
            </div>
        </div>
<!-- post 2 END -->

<!-- post 1 BEGIN -->
        <div class="post">
            <span class="title">
                <a id="post_1">Mojolicious HTTP client</a>
            </span>
            <span class="info">
                Unix time: 1398340126 (24 Apr 2014 15:48)</span>
            <span class="data">
                <p>
                Недавно мне пришлось решать задачу получения данных с web
                сервера по HTTP протоколу с проверкой cookie авторизации
                на Perl. Однако, вместо использования стандартного для таких
                целей LWP, нужно было написать решение при помощи Mojolicious
                Useragent.
                </p>
                <span class="code">
#!/usr/bin/perl

use 5.010;

use strict;
use warnings;

use Mojo::UserAgent;

my $ua = Mojo::UserAgent->new;

$ua->on(start => sub {
    my ($ua, $tx) = @_;
    $tx->req->cookies({name => 'user_auth', value => '8044d756b7f00b695ab8dce07dce43e5'});
});

my $tx = $ua->get('http://example.com');

my $res;

unless ($res = $tx->success) {
    my ($err, $code) = $tx->error;
    warn ($code ? "$code response: $err" : "Connection error: $err");
};

say $res->body;

# Необязательная часть, но полезная, если нужно "пробросить"
# ответ сервера через Mojolicious web сервер клиенту
# $self->tx->res($res);
# $self->rendered($res->code);
                </span>
            </span>
            <div class="bottom">
                <!--
                <div id="vk_like_post_1"></div>
                <script type="text/javascript">
                     VK.Widgets.Like('vk_like_post_1', {
                        'type': 'full',
                        'verb':'1',
                        'pageTitle': 'Mojolicious HTTP client',
                        'pageUrl': 'http://andrey812.github.io#post_1'
                    });
                </script>
                -->
            </div>
        </div>
<!-- post 1 END -->

    <!-- Common footer BEGIN -->
        <div class="common_footer">
            <p>Andrey's blog. Copyright by Andrey Nikolaev.</p>
        </div>
    <!-- Common footer BEGIN -->
    </div>

 </body>
 </html>
